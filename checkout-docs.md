# CHECKOUT FLOW


## Case 1: When user was already logged in from login modal



### __1: Tickets Container__
- Call to endpoint - __/add-to-cart__ - POST request 
- Response gives us 3 attribute flags: __age_required__,&nbsp; __names_required__,&nbsp; __skip_billing_page__ then form url and redirect to __BILLING INFO__ page  

### __2: Billing Info Container__
 &nbsp; 2.1) Call to endpoint - __/cart__ - GET request <br> <br>
 &nbsp; 2.2) After filling required data and clicking NEXT button <br> 
&nbsp; &nbsp; 2.2.1) Call to endpoint - __/on-checkout__ - POST request  <br>
&nbsp; &nbsp; Request header body <br>
- __ticket_holders__ array (automatically generated by __tf-checkout-react__ package if __names_required__ attribute was __FALSE__. In the case of __names_required__ attribute __TRUE__ value it was formed by the user logged values). 
- dob_day/dob_month/dob_year if __age_required__ attribute was __TRUE__.
- ...rest required values
<br>
 Request response - Get **hash** value from response attributes, form url and redirect to **PAYMENT** container


 ***Important Note - When skip_billing_page attribute (see 1: point) was TRUE 2.2.1 call will be made, via hash attribute from response url will be generated and BILLING INFO CONTAINER visually will be skipped***

 ### __3: Payment Container__
 3.1) Call to endpoint - **/order/${hash}/review/** - GET request <br>
 3.2) After successfully payment call redirect to **/checkout/${hash}/complete**  - Confirmation Container